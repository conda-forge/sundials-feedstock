From 75092efedca71374f177f4739d24f7a83b6f7f02 Mon Sep 17 00:00:00 2001
From: Julien Schueller <schueller@phimeca.com>
Date: Tue, 14 May 2024 16:40:46 +0200
Subject: [PATCH] CMake: Fix dll install location

---
 CHANGELOG.md                          | 4 ++++
 cmake/macros/SundialsAddLibrary.cmake | 6 +++++-
 2 files changed, 9 insertions(+), 1 deletion(-)

diff --git a/cmake/macros/SundialsAddLibrary.cmake b/cmake/macros/SundialsAddLibrary.cmake
index ca0d22619..9fbab8c19 100644
--- a/cmake/macros/SundialsAddLibrary.cmake
+++ b/cmake/macros/SundialsAddLibrary.cmake
@@ -355,7 +355,11 @@ macro(sundials_add_library target)
       endif()
 
       # install phase
-      install(TARGETS ${_actual_target_name} DESTINATION ${CMAKE_INSTALL_LIBDIR} EXPORT sundials-targets)
+      install(TARGETS ${_actual_target_name}
+	      EXPORT sundials-targets
+	      ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR}
+	      LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}
+	      RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR})
 
     endif()
 
-- 
2.34.1

